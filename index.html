<!DOCTYPE html>
<html lang="ms">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pengiraan Gaji - WhatsApp</title>
<style>
    body {
        font-family: Arial, sans-serif;
        margin: 20px;
        text-align: center;
        background: #f9fbff;
    }

    h1 {
        color: #003B5C;
    }

    /* Paparan gaji */
    #c3_9 {
        font-size: 22px;
        margin-top: 15px;
        font-weight: bold;
        color: #E60012;
    }

    /* Butang WhatsApp */
    .whatsapp-btn {
        margin-top: 25px;
        padding: 14px 28px;
        font-size: 16px;
        border-radius: 50px;
        border: none;
        background-color: #25D366;
        color: white;
        cursor: pointer;
        font-weight: bold;
        display: inline-flex;
        align-items: center;
        gap: 10px;
        box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        transition: 0.3s;
    }

    .whatsapp-btn:hover {
        background-color: #1DA851;
        transform: scale(1.07);
    }

    .whatsapp-btn svg {
        width: 22px;
        height: 22px;
        fill: white;
    }

    /* Modal */
    .modal {
        display: none;
        position: fixed;
        z-index: 999;
        left: 0; top: 0;
        width: 100%; height: 100%;
        background: rgba(0,0,0,0.6);
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .modal-content {
        background: white;
        padding: 20px;
        border-radius: 14px;
        width: 320px;
        text-align: center;
        position: relative;
        animation: fadeIn 0.3s ease-in-out;
    }

    @keyframes fadeIn {
        from {opacity: 0; transform: scale(0.8);}
        to {opacity: 1; transform: scale(1);}
    }

    .close-btn {
        position: absolute;
        top: 10px; right: 15px;
        font-size: 20px;
        cursor: pointer;
        color: #555;
    }

    .close-btn:hover { color: red; }

    .input-group {
        display: flex;
        align-items: center;
        border: 1px solid #ccc;
        border-radius: 8px;
        overflow: hidden;
        margin: 15px 0;
    }

    .input-group span {
        background: #f1f1f1;
        padding: 10px;
        font-weight: bold;
        color: #333;
        border-right: 1px solid #ccc;
    }

    input {
        flex: 1;
        padding: 10px;
        border: none;
        outline: none;
        font-size: 14px;
    }

    .send-btn {
        background: #25D366;
        color: white;
        border: none;
        padding: 12px;
        border-radius: 8px;
        cursor: pointer;
        width: 100%;
        font-weight: bold;
        font-size: 15px;
        transition: 0.3s;
    }

    .send-btn:hover { background: #1DA851; }

    .error {
        color: red;
        font-size: 13px;
        display: none;
        margin-bottom: 5px;
    }
</style>
</head>
<body>

<h1>Kiraan Gaji</h1>
<p>Jumlah Gaji Kasar Anda:</p>
<div id="c3_9">2500</div>

<!-- Button WhatsApp -->
<button id="waBtn" class="whatsapp-btn">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
        <path d="M16 0C7.164 0 0 6.832 0 15.25c0 2.688.74 5.285 2.145 7.582L0 32l9.426-2.945A15.9 15.9 0 0 0 16 30.5c8.836 0 16-6.832 16-15.25S24.836 0 16 0zm0 28.125c-2.34 0-4.617-.68-6.582-1.973l-.473-.309-5.59 1.75 1.824-5.34-.309-.496C3.895 20.098 3.25 17.73 3.25 15.25 3.25 8.652 9.016 3.375 16 3.375s12.75 5.277 12.75 11.875S22.984 28.125 16 28.125zM23.211 19.27c-.385-.195-2.27-1.113-2.621-1.242-.352-.129-.609-.195-.867.195s-.996 1.242-1.223 1.5c-.223.258-.445.289-.83.098-.387-.195-1.629-.59-3.105-1.875-1.145-1.02-1.914-2.277-2.14-2.664-.223-.387-.023-.598.172-.793.18-.176.387-.457.582-.684.195-.227.258-.387.387-.645.129-.258.066-.484-.031-.68-.098-.195-.867-2.086-1.188-2.855-.312-.75-.633-.648-.867-.66-.223-.012-.48-.012-.738-.012-.258 0-.68.097-1.035.484-.352.387-1.367 1.332-1.367 3.25s1.398 3.77 1.594 4.027c.195.258 2.75 4.395 6.664 6.074.934.402 1.66.641 2.227.82.934.297 1.785.254 2.457.156.75-.113 2.27-.926 2.594-1.82.32-.895.32-1.66.223-1.82-.094-.164-.352-.262-.738-.457z"/>
    </svg>
    Hantar WhatsApp
</button>

<!-- Modal -->
<div id="waModal" class="modal">
    <div class="modal-content">
        <span class="close-btn">&times;</span>
        <h3>Masukkan Nombor WhatsApp</h3>
        <p>(Isi nombor tanpa 0 depan, contoh: 123456789)</p>
        <div class="error" id="errorMsg">⚠️ Sila isi nombor yang sah</div>
        <div class="input-group">
            <span>+60</span>
            <input type="text" id="waNumber" placeholder="123456789" maxlength="12">
        </div>
        <button class="send-btn" id="sendWa">Hantar</button>
    </div>
</div>

<script>
    const modal = document.getElementById("waModal");
    const waBtn = document.getElementById("waBtn");
    const closeBtn = document.querySelector(".close-btn");
    const sendWa = document.getElementById("sendWa");
    const errorMsg = document.getElementById("errorMsg");
    const waNumberInput = document.getElementById("waNumber");

    // Buka modal
    waBtn.onclick = () => {
        modal.style.display = "flex";
        waNumberInput.focus();
    };

    // Tutup modal
    closeBtn.onclick = () => modal.style.display = "none";
    window.onclick = (e) => { if(e.target == modal) modal.style.display = "none"; };

    // Hantar WhatsApp
    sendWa.onclick = () => {
        const gaji = document.getElementById("c3_9").innerText;
        const mesej = `Gaji Kasar anda pada bulan ini adalah RM ${gaji}`;
        let noPhone = waNumberInput.value.trim();

        // Validation
        if(!/^[0-9]{7,12}$/.test(noPhone)) {
            errorMsg.style.display = "block";
            return;
        } else {
            errorMsg.style.display = "none";
        }

        const url = `https://wa.me/60${noPhone}?text=${encodeURIComponent(mesej)}`;
        window.open(url, "_blank");
        modal.style.display = "none";
        waNumberInput.value = "";
    };
</script>

</body>
</html>